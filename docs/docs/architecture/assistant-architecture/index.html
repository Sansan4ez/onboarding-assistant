<!DOCTYPE html>
<html lang="ru-ru" dir="ltr">
<head><script src="/onboarding-assistant/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=onboarding-assistant/livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Построение эффективных AI-агентов
  
  #
  

За последний год специалисты Anthropic работали с десятками команд, создающих агентов на основе больших языковых моделей (LLM) в различных отраслях. Последовательно отмечалось, что наиболее успешные реализации не использовали сложные фреймворки или специализированные библиотеки. Вместо этого они строились на простых, компонуемых паттернах.

  Что такое агенты?
  
  #
  

Термин &ldquo;агент&rdquo; можно определить по-разному. Некоторые клиенты определяют агентов как полностью автономные системы, которые работают независимо в течение длительного времени, используя различные инструменты для выполнения сложных задач. Другие используют этот термин для описания более регламентированных реализаций, следующих предопределенным рабочим процессам. В Anthropic все эти вариации классифицируются как агентные системы, но проводится важное архитектурное различие между рабочими процессами (workflows) и агентами (agents):">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/onboarding-assistant/docs/architecture/assistant-architecture/">
  <meta property="og:site_name" content="AI onboarding assistant">
  <meta property="og:title" content="AI onboarding assistant">
  <meta property="og:description" content="Построение эффективных AI-агентов # За последний год специалисты Anthropic работали с десятками команд, создающих агентов на основе больших языковых моделей (LLM) в различных отраслях. Последовательно отмечалось, что наиболее успешные реализации не использовали сложные фреймворки или специализированные библиотеки. Вместо этого они строились на простых, компонуемых паттернах.
Что такое агенты? # Термин “агент” можно определить по-разному. Некоторые клиенты определяют агентов как полностью автономные системы, которые работают независимо в течение длительного времени, используя различные инструменты для выполнения сложных задач. Другие используют этот термин для описания более регламентированных реализаций, следующих предопределенным рабочим процессам. В Anthropic все эти вариации классифицируются как агентные системы, но проводится важное архитектурное различие между рабочими процессами (workflows) и агентами (agents):">
  <meta property="og:locale" content="ru_ru">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Assistant Architecture | AI onboarding assistant</title>
<link rel="icon" href="/onboarding-assistant/favicon.png" >
<link rel="manifest" href="/onboarding-assistant/manifest.json">
<link rel="canonical" href="http://localhost:1313/onboarding-assistant/docs/architecture/assistant-architecture/">
<link rel="stylesheet" href="/onboarding-assistant/book.min.ce742184041b67827be505801d71b6b40c09608dfb292033ea54dbbc1d71a174.css" integrity="sha256-znQhhAQbZ4J75QWAHXG2tAwJYI37KSAz6lTbvB1xoXQ=" crossorigin="anonymous">
  <script defer src="/onboarding-assistant/fuse.min.js"></script>
  <script defer src="/onboarding-assistant/en.search.min.b7fb698aecb025344082fd17e6382a9196b9832ef44b49a25f2de0431e5b0078.js" integrity="sha256-t/tpiuywJTRAgv0X5jgqkZa5gy70S0miXy3gQx5bAHg=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/onboarding-assistant/"><span>AI onboarding assistant</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7cb49bdb84cb44cbcedabd34f28a625a" class="toggle"  />
    <label for="section-7cb49bdb84cb44cbcedabd34f28a625a" class="flex">
      <a href="/onboarding-assistant/docs/ai-ml/" class="flex-auto ">AI &amp; Machine Learning</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/ai-ml/llm-basics/" class="">Основы LLM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/ai-ml/ai-agents/" class="">AI-агенты</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/ai-ml/rag/" class="">RAG</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/ai-ml/ai-assistants/" class="">Ai Assistants</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/ai-ml/structured-output/" class="">Structured Output</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-48bac2ebdb668c2706c02aa184db8476" class="toggle"  />
    <label for="section-48bac2ebdb668c2706c02aa184db8476" class="flex">
      <a href="/onboarding-assistant/docs/search-tech/" class="flex-auto ">Search Technologies</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/search-tech/vector-search/" class="">Vector Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/search-tech/fulltext-search/" class="">Fulltext Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/search-tech/hybrid-search/" class="">Hybrid Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/search-tech/metadata-search/" class="">Metadata Search</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5f5ab346261e7d1af858195b11cdc5fb" class="toggle"  />
    <label for="section-5f5ab346261e7d1af858195b11cdc5fb" class="flex">
      <a href="/onboarding-assistant/docs/dev-tools/" class="flex-auto ">Development Tools</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/cursor-ai/" class="">Cursor AI</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/ai-pair-programming/" class="">Ai Pair Programming</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/cursor-ai-guide/" class="">Cursor Ai Guide</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/cursor-composer/" class="">Cursor Composer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/dify-ai/" class="">Dify Ai</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/setup-cursor/" class="">Setup Cursor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/dev-tools/uv-tool/" class="">Uv Tool</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-aa32f49e3c3654f259d4d098efa4fddd" class="toggle"  />
    <label for="section-aa32f49e3c3654f259d4d098efa4fddd" class="flex">
      <a href="/onboarding-assistant/docs/content-mgmt/" class="flex-auto ">Content Management</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/content-mgmt/git-github-guide/" class="">Git и GitHub</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/content-mgmt/markdown-guide/" class="">Markdown Guide</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/content-mgmt/git-pages/" class="">Git Pages</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eefc9810de7c421f8dbbe8d3488aff57" class="toggle"  />
    <label for="section-eefc9810de7c421f8dbbe8d3488aff57" class="flex">
      <a href="/onboarding-assistant/docs/backend/" class="flex-auto ">Backend &amp; Database</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/backend/supabase-analysis/" class="">Supabase Analysis</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7bb95aab3ab4af44a3dbde80a0ddc72f" class="toggle" checked />
    <label for="section-7bb95aab3ab4af44a3dbde80a0ddc72f" class="flex">
      <a href="/onboarding-assistant/docs/architecture/" class="flex-auto ">Architecture</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/architecture/assistant-architecture/" class="active">Assistant Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/architecture/ddd-llm/" class="">Ddd Llm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4c34cc6447adf3b72852a3545bac8e21" class="toggle"  />
    <label for="section-4c34cc6447adf3b72852a3545bac8e21" class="flex">
      <a href="/onboarding-assistant/docs/utilities/" class="flex-auto ">Utilities</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/utilities/hugo-guide/" class="">Hugo - Статический генератор сайтов</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/utilities/pandoc/" class="">Pandoc</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4fe95e3eb7fab23a8556775a589dda04" class="toggle"  />
    <label for="section-4fe95e3eb7fab23a8556775a589dda04" class="flex">
      <a href="/onboarding-assistant/docs/additional/" class="flex-auto ">Additional Materials</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/onboarding-assistant/docs/additional/checklist/" class="">Checklist</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/onboarding-assistant/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Assistant Architecture</h3>

  <label for="toc-control">
    
    <img src="/onboarding-assistant/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#что-такое-агенты">Что такое агенты?</a></li>
    <li><a href="#когда-и-когда-не-использовать-агентов">Когда (и когда не) использовать агентов</a></li>
    <li><a href="#когда-и-как-использовать-фреймворки">Когда и как использовать фреймворки</a></li>
    <li><a href="#строительные-блоки-рабочие-процессы-и-агенты">Строительные блоки, рабочие процессы и агенты</a>
      <ul>
        <li><a href="#строительный-блок-дополненная-llm">Строительный блок: Дополненная LLM</a></li>
        <li><a href="#рабочий-процесс-цепочка-промптов">Рабочий процесс: Цепочка промптов</a></li>
        <li><a href="#рабочий-процесс-маршрутизация">Рабочий процесс: Маршрутизация</a></li>
        <li><a href="#рабочий-процесс-параллелизация">Рабочий процесс: Параллелизация</a></li>
        <li><a href="#рабочий-процесс-оркестратор-исполнители">Рабочий процесс: Оркестратор-исполнители</a></li>
        <li><a href="#рабочий-процесс-оценщик-оптимизатор">Рабочий процесс: Оценщик-оптимизатор</a></li>
        <li><a href="#агенты">Агенты</a></li>
      </ul>
    </li>
    <li><a href="#резюме">Резюме</a></li>
    <li><a href="#приложение-1-агенты-на-практике">Приложение 1: Агенты на практике</a>
      <ul>
        <li><a href="#a-поддержка-клиентов">A. Поддержка клиентов</a></li>
        <li><a href="#b-агенты-для-программирования">B. Агенты для программирования</a></li>
      </ul>
    </li>
    <li><a href="#приложение-2-разработка-промптов-для-ваших-инструментов">Приложение 2: Разработка промптов для ваших инструментов</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="построение-эффективных-ai-агентов">
  Построение эффективных AI-агентов
  
  <a class="anchor" href="#%d0%bf%d0%be%d1%81%d1%82%d1%80%d0%be%d0%b5%d0%bd%d0%b8%d0%b5-%d1%8d%d1%84%d1%84%d0%b5%d0%ba%d1%82%d0%b8%d0%b2%d0%bd%d1%8b%d1%85-ai-%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d0%be%d0%b2">#</a>
  
</h1>
<p>За последний год специалисты Anthropic работали с десятками команд, создающих агентов на основе больших языковых моделей (LLM) в различных отраслях. Последовательно отмечалось, что наиболее успешные реализации не использовали сложные фреймворки или специализированные библиотеки. Вместо этого они строились на простых, компонуемых паттернах.</p>
<h2 id="что-такое-агенты">
  Что такое агенты?
  
  <a class="anchor" href="#%d1%87%d1%82%d0%be-%d1%82%d0%b0%d0%ba%d0%be%d0%b5-%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d1%8b">#</a>
  
</h2>
<p>Термин &ldquo;агент&rdquo; можно определить по-разному. Некоторые клиенты определяют агентов как полностью автономные системы, которые работают независимо в течение длительного времени, используя различные инструменты для выполнения сложных задач. Другие используют этот термин для описания более регламентированных реализаций, следующих предопределенным рабочим процессам. В Anthropic все эти вариации классифицируются как <strong>агентные системы</strong>, но проводится важное архитектурное различие между <strong>рабочими процессами (workflows)</strong> и <strong>агентами (agents)</strong>:</p>
<ul>
<li><strong>Рабочие процессы</strong> — это системы, где LLM и инструменты оркестрируются через предопределенные пути в коде.</li>
<li><strong>Агенты</strong> — это системы, где LLM динамически направляют собственные процессы и использование инструментов, сохраняя контроль над способом выполнения задач<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</li>
</ul>
<h2 id="когда-и-когда-не-использовать-агентов">
  Когда (и когда не) использовать агентов
  
  <a class="anchor" href="#%d0%ba%d0%be%d0%b3%d0%b4%d0%b0-%d0%b8-%d0%ba%d0%be%d0%b3%d0%b4%d0%b0-%d0%bd%d0%b5-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d1%8c-%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d0%be%d0%b2">#</a>
  
</h2>
<p>При создании приложений с LLM рекомендуется находить максимально простое решение и усложнять его только при необходимости. Это может означать полный отказ от агентных систем. Агентные системы часто обменивают задержку и стоимость на повышение производительности задач, и следует учитывать, когда такой компромисс имеет смысл<sup id="fnref1:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>Когда требуется большая сложность:</p>
<ul>
<li>Рабочие процессы обеспечивают предсказуемость и согласованность для четко определенных задач</li>
<li>Агенты являются лучшим выбором, когда требуется гибкость и принятие решений на основе модели</li>
</ul>
<p>Однако для многих приложений достаточно оптимизации отдельных вызовов LLM с использованием поиска и примеров в контексте<sup id="fnref2:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<h2 id="когда-и-как-использовать-фреймворки">
  Когда и как использовать фреймворки
  
  <a class="anchor" href="#%d0%ba%d0%be%d0%b3%d0%b4%d0%b0-%d0%b8-%d0%ba%d0%b0%d0%ba-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d1%8c-%d1%84%d1%80%d0%b5%d0%b9%d0%bc%d0%b2%d0%be%d1%80%d0%ba%d0%b8">#</a>
  
</h2>
<p>Существует множество фреймворков, упрощающих реализацию агентных систем, включая:</p>
<ul>
<li>LangGraph от LangChain</li>
<li>Amazon Bedrock&rsquo;s AI Agent framework</li>
<li>Rivet (графический интерфейс для создания рабочих процессов LLM)</li>
<li>Vellum (инструмент для создания и тестирования сложных рабочих процессов)<sup id="fnref3:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<p>Эти фреймворки упрощают начало работы, но часто создают дополнительные уровни абстракции, затрудняющие отладку. Разработчикам рекомендуется начинать с прямого использования API LLM, так как многие паттерны можно реализовать всего несколькими строками кода<sup id="fnref4:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<h2 id="строительные-блоки-рабочие-процессы-и-агенты">
  Строительные блоки, рабочие процессы и агенты
  
  <a class="anchor" href="#%d1%81%d1%82%d1%80%d0%be%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d0%b1%d0%bb%d0%be%d0%ba%d0%b8-%d1%80%d0%b0%d0%b1%d0%be%d1%87%d0%b8%d0%b5-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81%d1%8b-%d0%b8-%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d1%8b">#</a>
  
</h2>
<h3 id="строительный-блок-дополненная-llm">
  Строительный блок: Дополненная LLM
  
  <a class="anchor" href="#%d1%81%d1%82%d1%80%d0%be%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b9-%d0%b1%d0%bb%d0%be%d0%ba-%d0%b4%d0%be%d0%bf%d0%be%d0%bb%d0%bd%d0%b5%d0%bd%d0%bd%d0%b0%d1%8f-llm">#</a>
  
</h3>
<p>Базовым строительным блоком агентных систем является LLM, усиленная такими возможностями, как поиск, инструменты и память. Современные модели могут активно использовать эти возможности — генерировать собственные поисковые запросы, выбирать подходящие инструменты и определять, какую информацию сохранять<sup id="fnref5:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<h3 id="рабочий-процесс-цепочка-промптов">
  Рабочий процесс: Цепочка промптов
  
  <a class="anchor" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%87%d0%b8%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81-%d1%86%d0%b5%d0%bf%d0%be%d1%87%d0%ba%d0%b0-%d0%bf%d1%80%d0%be%d0%bc%d0%bf%d1%82%d0%be%d0%b2">#</a>
  
</h3>
<p>Цепочка промптов разбивает задачу на последовательность шагов, где каждый вызов LLM обрабатывает вывод предыдущего.</p>
<p><strong>Пример использования цепочки промптов:</strong></p>
<ul>
<li>Генерация маркетингового текста, а затем его перевод на другой язык</li>
<li>Создание плана документа, проверка соответствия плана определенным критериям, затем написание документа на основе плана</li>
<li>В российском контексте: разработка технического задания для IT-проекта, проверка его соответствия ГОСТ, а затем генерация кода на основе ТЗ<sup id="fnref6:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h3 id="рабочий-процесс-маршрутизация">
  Рабочий процесс: Маршрутизация
  
  <a class="anchor" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%87%d0%b8%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81-%d0%bc%d0%b0%d1%80%d1%88%d1%80%d1%83%d1%82%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f">#</a>
  
</h3>
<p>Маршрутизация классифицирует входные данные и направляет их к специализированной последующей задаче.</p>
<p><strong>Пример использования маршрутизации:</strong></p>
<ul>
<li>Направление различных типов запросов в службу поддержки (общие вопросы, запросы на возврат, техническая поддержка) в различные нисходящие процессы</li>
<li>Маршрутизация простых вопросов к меньшим моделям, а сложных вопросов к более мощным моделям для оптимизации затрат и скорости</li>
<li>В российском контексте: распределение обращений клиентов телекоммуникационной компании между специалистами разного профиля<sup id="fnref7:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h3 id="рабочий-процесс-параллелизация">
  Рабочий процесс: Параллелизация
  
  <a class="anchor" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%87%d0%b8%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81-%d0%bf%d0%b0%d1%80%d0%b0%d0%bb%d0%bb%d0%b5%d0%bb%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f">#</a>
  
</h3>
<p>LLM могут иногда работать над задачей одновременно, а их выводы объединяются программно. Этот рабочий процесс проявляется в двух ключевых вариациях:</p>
<ul>
<li><strong>Секционирование</strong>: Разбиение задачи на независимые подзадачи, выполняемые параллельно</li>
<li><strong>Голосование</strong>: Выполнение одной и той же задачи несколько раз для получения разнообразных выводов<sup id="fnref8:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<p><strong>Примеры использования параллелизации:</strong></p>
<p><strong>Секционирование</strong>:</p>
<ul>
<li>Реализация ограничений, когда один экземпляр модели обрабатывает запросы пользователей, а другой проверяет их на наличие неприемлемого содержания</li>
<li>В российском контексте: параллельная проверка юридического документа на соответствие нескольким аспектам законодательства РФ</li>
</ul>
<p><strong>Голосование</strong>:</p>
<ul>
<li>Проверка кода на уязвимости, когда несколько разных промптов оценивают и помечают код при обнаружении проблемы</li>
<li>Оценка неприемлемости контента с различными порогами голосования<sup id="fnref9:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h3 id="рабочий-процесс-оркестратор-исполнители">
  Рабочий процесс: Оркестратор-исполнители
  
  <a class="anchor" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%87%d0%b8%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81-%d0%be%d1%80%d0%ba%d0%b5%d1%81%d1%82%d1%80%d0%b0%d1%82%d0%be%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d0%b5%d0%bb%d0%b8">#</a>
  
</h3>
<p>В рабочем процессе оркестратор-исполнители центральная LLM динамически разбивает задачи, делегирует их рабочим LLM и синтезирует их результаты.</p>
<p><strong>Примеры использования оркестратора-исполнителей:</strong></p>
<ul>
<li>Продукты для программирования, которые вносят сложные изменения в несколько файлов</li>
<li>Задачи поиска, включающие сбор и анализ информации из нескольких источников</li>
<li>В российском контексте: анализ большого массива данных государственных закупок с распределением подзадач между отдельными исполнителями<sup id="fnref10:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h3 id="рабочий-процесс-оценщик-оптимизатор">
  Рабочий процесс: Оценщик-оптимизатор
  
  <a class="anchor" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%87%d0%b8%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81-%d0%be%d1%86%d0%b5%d0%bd%d1%89%d0%b8%d0%ba-%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%82%d0%be%d1%80">#</a>
  
</h3>
<p>В рабочем процессе оценщик-оптимизатор один вызов LLM генерирует ответ, а другой предоставляет оценку и обратную связь в цикле.</p>
<p><strong>Примеры использования оценщика-оптимизатора:</strong></p>
<ul>
<li>Литературный перевод, где есть нюансы, которые LLM-переводчик может не уловить сразу</li>
<li>Сложные поисковые задачи, требующие нескольких раундов поиска и анализа</li>
<li>В российском контексте: итеративное улучшение текста технической документации с учетом отраслевых стандартов и требований<sup id="fnref11:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h3 id="агенты">
  Агенты
  
  <a class="anchor" href="#%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d1%8b">#</a>
  
</h3>
<p>Агенты появляются в производстве по мере того, как LLM совершенствуются в ключевых возможностях — понимании сложных входных данных, рассуждении и планировании, надежном использовании инструментов и восстановлении после ошибок<sup id="fnref12:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>Агенты могут обрабатывать сложные задачи, но их реализация часто проста. Они обычно представляют собой LLM, использующие инструменты на основе обратной связи из окружающей среды в цикле<sup id="fnref13:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p><strong>Примеры использования агентов:</strong></p>
<ul>
<li>Агент для программирования для решения задач SWE-bench, которые включают редактирование многих файлов на основе описания задачи</li>
<li>Реализация &ldquo;использования компьютера&rdquo;, где модель использует компьютер для выполнения задач</li>
<li>В российском контексте: автоматизированный помощник, обрабатывающий запросы на государственные услуги, взаимодействуя с различными государственными информационными системами<sup id="fnref14:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h2 id="резюме">
  Резюме
  
  <a class="anchor" href="#%d1%80%d0%b5%d0%b7%d1%8e%d0%bc%d0%b5">#</a>
  
</h2>
<p>Успех в области LLM заключается не в создании самой сложной системы, а в создании <em>правильной</em> системы для ваших потребностей. Начните с простых промптов, оптимизируйте их с помощью комплексной оценки и добавляйте многоэтапные агентные системы только тогда, когда более простые решения не справляются<sup id="fnref15:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>При реализации агентов рекомендуется следовать трем основным принципам:</p>
<ul>
<li>Поддерживать <strong>простоту</strong> в дизайне агента</li>
<li>Приоритет <strong>прозрачности</strong>, явно показывая этапы планирования агента</li>
<li>Тщательно разрабатывать интерфейс агент-компьютер через <strong>документацию и тестирование</strong> инструментов<sup id="fnref16:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<h2 id="приложение-1-агенты-на-практике">
  Приложение 1: Агенты на практике
  
  <a class="anchor" href="#%d0%bf%d1%80%d0%b8%d0%bb%d0%be%d0%b6%d0%b5%d0%bd%d0%b8%d0%b5-1-%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d1%8b-%d0%bd%d0%b0-%d0%bf%d1%80%d0%b0%d0%ba%d1%82%d0%b8%d0%ba%d0%b5">#</a>
  
</h2>
<p>Работа с клиентами выявила два особенно перспективных применения AI-агентов:</p>
<h3 id="a-поддержка-клиентов">
  A. Поддержка клиентов
  
  <a class="anchor" href="#a-%d0%bf%d0%be%d0%b4%d0%b4%d0%b5%d1%80%d0%b6%d0%ba%d0%b0-%d0%ba%d0%bb%d0%b8%d0%b5%d0%bd%d1%82%d0%be%d0%b2">#</a>
  
</h3>
<p>Поддержка клиентов сочетает привычные интерфейсы чат-ботов с расширенными возможностями через интеграцию инструментов. Это естественно подходит для более открытых агентов, потому что:</p>
<ul>
<li>Взаимодействия поддержки естественно следуют потоку разговора</li>
<li>Инструменты могут быть интегрированы для получения данных о клиентах, истории заказов и статей базы знаний</li>
<li>Действия, такие как выдача возмещений или обновление заявок, могут обрабатываться программно</li>
<li>Успех можно четко измерить через разрешения, определенные пользователем<sup id="fnref17:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<p><strong>Пример из российской практики:</strong> Банк &ldquo;Тинькофф&rdquo; использует интеллектуальных агентов для обработки стандартных запросов клиентов, используя доступ к внутренним системам для проверки баланса, истории операций и выполнения простых действий.</p>
<h3 id="b-агенты-для-программирования">
  B. Агенты для программирования
  
  <a class="anchor" href="#b-%d0%b0%d0%b3%d0%b5%d0%bd%d1%82%d1%8b-%d0%b4%d0%bb%d1%8f-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b0%d0%bc%d0%bc%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f">#</a>
  
</h3>
<p>Пространство разработки программного обеспечения показало замечательный потенциал для функций LLM. Агенты особенно эффективны, потому что:</p>
<ul>
<li>Решения кода можно проверить через автоматизированные тесты</li>
<li>Агенты могут итерировать решения, используя результаты тестов в качестве обратной связи</li>
<li>Пространство проблем хорошо определено и структурировано</li>
<li>Качество вывода можно объективно измерить<sup id="fnref18:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<p><strong>Пример из российской практики:</strong> Компания &ldquo;Яндекс&rdquo; экспериментирует с агентами для автоматизации отладки программного обеспечения, где агент анализирует логи, определяет причины сбоев и предлагает исправления.</p>
<h2 id="приложение-2-разработка-промптов-для-ваших-инструментов">
  Приложение 2: Разработка промптов для ваших инструментов
  
  <a class="anchor" href="#%d0%bf%d1%80%d0%b8%d0%bb%d0%be%d0%b6%d0%b5%d0%bd%d0%b8%d0%b5-2-%d1%80%d0%b0%d0%b7%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b0-%d0%bf%d1%80%d0%be%d0%bc%d0%bf%d1%82%d0%be%d0%b2-%d0%b4%d0%bb%d1%8f-%d0%b2%d0%b0%d1%88%d0%b8%d1%85-%d0%b8%d0%bd%d1%81%d1%82%d1%80%d1%83%d0%bc%d0%b5%d0%bd%d1%82%d0%be%d0%b2">#</a>
  
</h2>
<p>Независимо от того, какую агентную систему вы создаете, инструменты, вероятно, будут важной частью вашего агента. Инструменты позволяют LLM взаимодействовать с внешними сервисами и API. Определения и спецификации инструментов должны получать такое же внимание к инженерии промптов, как и ваши общие промпты<sup id="fnref19:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>Рекомендации по форматам инструментов:</p>
<ul>
<li>Дайте модели достаточно токенов для &ldquo;размышлений&rdquo;</li>
<li>Сохраняйте формат близким к тому, что модель видела в тексте в интернете</li>
<li>Убедитесь, что нет &ldquo;накладных расходов&rdquo; форматирования<sup id="fnref20:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ul>
<p>Одно эмпирическое правило — думать о том, сколько усилий вкладывается в интерфейсы человек-компьютер (HCI), и планировать вложить столько же усилий в создание хороших интерфейсов <em>агент</em>-компьютер (ACI)<sup id="fnref21:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p><strong>Практический пример из российской разработки:</strong> При создании агента для анализа юридических документов разработчики &ldquo;Консультант Плюс&rdquo; обнаружили, что модель делала ошибки при ссылках на статьи законов. Они изменили инструмент, чтобы всегда требовать полную ссылку на закон с датой и номером, что привело к безошибочному использованию этого метода моделью.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>
  <a href="https://www.anthropic.com/engineering/building-effective-agents">https://www.anthropic.com/engineering/building-effective-agents</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref2:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref3:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref4:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref5:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref6:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref7:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref8:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref9:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref10:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref11:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref12:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref13:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref14:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref15:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref16:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref17:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref18:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref19:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref20:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref21:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/onboarding-assistant/docs/architecture/" class="flex align-center book-icon">
        <img src="/onboarding-assistant/svg/backward.svg" class="book-icon" alt="Previous" title="Architecture" />
        <span>Architecture</span>
      </a>
    
    </span>
    <span>
    
      <a href="/onboarding-assistant/docs/architecture/ddd-llm/" class="flex align-center book-icon">
        <span>Ddd Llm</span>
        <img src="/onboarding-assistant/svg/forward.svg" class="book-icon" alt="Next" title="Ddd Llm" />
      </a>
    
    </span>
  </div>
  




  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 
      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    

<aside class="book-toc">
  <div class="book-toc-content">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#что-такое-агенты">Что такое агенты?</a></li>
    <li><a href="#когда-и-когда-не-использовать-агентов">Когда (и когда не) использовать агентов</a></li>
    <li><a href="#когда-и-как-использовать-фреймворки">Когда и как использовать фреймворки</a></li>
    <li><a href="#строительные-блоки-рабочие-процессы-и-агенты">Строительные блоки, рабочие процессы и агенты</a>
      <ul>
        <li><a href="#строительный-блок-дополненная-llm">Строительный блок: Дополненная LLM</a></li>
        <li><a href="#рабочий-процесс-цепочка-промптов">Рабочий процесс: Цепочка промптов</a></li>
        <li><a href="#рабочий-процесс-маршрутизация">Рабочий процесс: Маршрутизация</a></li>
        <li><a href="#рабочий-процесс-параллелизация">Рабочий процесс: Параллелизация</a></li>
        <li><a href="#рабочий-процесс-оркестратор-исполнители">Рабочий процесс: Оркестратор-исполнители</a></li>
        <li><a href="#рабочий-процесс-оценщик-оптимизатор">Рабочий процесс: Оценщик-оптимизатор</a></li>
        <li><a href="#агенты">Агенты</a></li>
      </ul>
    </li>
    <li><a href="#резюме">Резюме</a></li>
    <li><a href="#приложение-1-агенты-на-практике">Приложение 1: Агенты на практике</a>
      <ul>
        <li><a href="#a-поддержка-клиентов">A. Поддержка клиентов</a></li>
        <li><a href="#b-агенты-для-программирования">B. Агенты для программирования</a></li>
      </ul>
    </li>
    <li><a href="#приложение-2-разработка-промптов-для-ваших-инструментов">Приложение 2: Разработка промптов для ваших инструментов</a></li>
  </ul>
</nav>



  </div>
</aside>

 
  </main>

  
</body>
</html>
















